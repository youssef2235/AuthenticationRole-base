@model BlueGreenEG.ViewModels.ProductDetails

@{
    ViewData["Title"] = Model.Product.Name;
}

<div class="container-fluid bluegreen-style mt-4">
    <div class="row mb-3">
        <div class="col-12">
            <nav aria-label="breadcrumb" class="bg-light p-2 rounded">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item"><a href="/">الرئيسية</a></li>
                    <li class="breadcrumb-item"><a asp-action="Products" asp-controller="Product">المنتجات</a></li>
                    <li class="breadcrumb-item active">@Model.Product.Name</li>
                </ol>
            </nav>
        </div>
    </div>

    <div class="row">
        <div class="text-center mb-4">
            <img src="~/Products/@Model.Product.ImageFileName" alt="@Model.Product.Name" class="img-fluid product-image" onerror="this.src='/images/product-placeholder.jpg'" />
        </div>
        <!-- قسم تفاصيل المنتج -->
        <div class="col-lg-7">
            <h1 class="mb-4 product-name">@Model.Product.Name</h1>

            <!-- خصائص المنتج -->
            <div class="product-section mb-4">
                <div class="product-section-header">
                    <h3 class="mb-0">خصائص المنتج</h3>
                </div>
                <div class="product-section-body">
                    <ul class="mb-0">
                        @foreach (var line in Model.Product.Proberties?.Split(new[] { "\r\n", "\n", "\r" }, StringSplitOptions.RemoveEmptyEntries) ?? Enumerable.Empty<string>())
                        {
                            <li>@line</li>
                        }
                    </ul>
                </div>
            </div>

            <!-- تركيب المنتج -->
            <div class="product-section mb-4">
                <div class="product-section-header">
                    <h3 class="mb-0">تركيب المنتج</h3>
                </div>
                <div class="product-section-body">
                    <ul class="mb-0">
                        @foreach (var line in Model.Product.Form?.Split(new[] { "\r\n", "\n", "\r" }, StringSplitOptions.RemoveEmptyEntries) ?? Enumerable.Empty<string>())
                        {
                            <li>@line</li>
                        }
                    </ul>
                </div>
            </div>

            <!-- فوائد المنتج -->
            <div class="product-section mb-4">
                <div class="product-section-header">
                    <h3 class="mb-0">فوائد المنتج</h3>
                </div>
                <div class="product-section-body">
                    <ul class="mb-0">
                        @foreach (var line in Model.Product.binfet?.Split(new[] { "\r\n", "\n", "\r" }, StringSplitOptions.RemoveEmptyEntries) ?? Enumerable.Empty<string>())
                        {
                            <li>@line</li>
                        }
                    </ul>
                </div>
            </div>

            <!-- الجرعة ومعدلات الاستخدام -->
            <div class="product-section mb-4">
                <div class="product-section-header">
                    <h3 class="mb-0">الجرعة ومعدلات الاستخدام</h3>
                </div>
                <div class="product-section-body">
                    <ul class="mb-0">
                        @foreach (var line in Model.Product.usage?.Split(new[] { "\r\n", "\n", "\r" }, StringSplitOptions.RemoveEmptyEntries) ?? Enumerable.Empty<string>())
                        {
                            <li>@line</li>
                        }
                    </ul>
                </div>
            </div>

            <!-- بيانات المنتج -->
            <div class="product-section mb-4">
                <div class="product-section-header">
                    <h3 class="mb-0">بيانات المنتج</h3>
                </div>
                <div class="product-section-body">
                    <ul class="mb-0">
                        @foreach (var line in Model.Product.productdata?.Split(new[] { "\r\n", "\n", "\r" }, StringSplitOptions.RemoveEmptyEntries) ?? Enumerable.Empty<string>())
                        {
                            <li>@line</li>
                        }
                    </ul>
                </div>
            </div>
        </div>

        <!-- قسم الصورة وخيارات الشراء -->
        <div class="col-lg-5">
          

            <!-- منتجات مشابهة -->
            <div class="product-section mb-4">
                <div class="product-section-header">
                    <h3 class="mb-0">منتجات مشابهة</h3>
                </div>
                <div class="product-section-body">
                    <div class="row">
                        <div class="col-6 mb-3">
                            <a asp-action="Details" asp-route-Id="@Model.First.Id" style="text-decoration:none">
                            <div class="card h-100">
                                <img src="~/Products/@Model.First.ImageFileName" class="card-img-top" alt="@Model.First.Name">
                                <div class="card-body p-2 text-center">
                                    <h6 class="card-title mb-1">@Model.First.Name</h6>
                                    <p class="card-text text-danger mb-0"></p>
                                </div>
                            </div>
                        </a>
                        </div>
                       
                        <div class="col-6 mb-3">
                                                    <a asp-action="Details" asp-route-Id="@Model.Second.Id" style="text-decoration:none">
                            <div class="card h-100">
                                <img src="~/Products/@Model.Second.ImageFileName" class="card-img-top" alt="@Model.Second.Name">
                                <div class="card-body p-2 text-center">
                                    <h6 class="card-title mb-1">@Model.Second.Name</h6>
                                    <p class="card-text text-danger mb-0"></p>
                                </div>
                            </div>
                            </a>
                        </div>
						
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- التصنيف والوسوم -->
    <div class="row mt-3">
        <div class="col-12">
            <div class="bg-light p-3 rounded">
                <div class="mb-2">
                    <strong>التصنيف:</strong> <a href="#">@Model.Product.Category</a>
                </div>
                <div>
                    <strong>الوسوم:</strong>
                    @foreach (var line in Model.Product.SeoTitle?.Split(new[] { "\r\n", "\n", "\r" }, StringSplitOptions.RemoveEmptyEntries) ?? Enumerable.Empty<string>())
                    {
                        <a href="#" >@line  , </a> 
                    }
                   
                </div>
            </div>
        </div>
    </div>
</div>


@section Styles {
    <style>
        /* أنماط صفحة تفاصيل المنتج */
        .product-section {
            margin-bottom: 25px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);

        }

        .product-section-header {
            background-color: #121212;
            color: white;
            padding: 12px 15px;
            font-weight: bold;
            position: relative;
        }

            .product-section-header:after {
                content: '';
                position: absolute;
                right: 0;
                top: 0;
                bottom: 0;
                width: 5px;
                background-color: #d92c2c;
            }

        .product-section-body {
            padding: 15px;
            background-color: white;
        }

        .product-section ul {
            padding-right: 20px;
            list-style-type: none;
            margin-bottom: 0;
        }

            .product-section ul li {
                position: relative;
                padding-right: 15px;
                margin-bottom: 8px;
            }

                .product-section ul li:last-child {
                    margin-bottom: 0;
                }

                .product-section ul li:before {
                    content: "•";
                    color: #d92c2c;
                    font-weight: bold;
                    display: inline-block;
                    position: absolute;
                    right: 0;
                }

        .product-image {
            border: 1px solid #ddd;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            max-height: 500px;
            object-fit: contain;
        }

        .product-name {
            color: #d92c2c;
            font-weight: bold;
        }

        .breadcrumb-item + .breadcrumb-item::before {
            float: right;
            padding-left: 0.5rem;
            padding-right: 0;
        }

        /* تخصيص نمط الصفحة */
        body {
            background-color: #f8f9fa;
        }

        h3 {
            font-size: 1.3rem;
        }

        .product-section-header h3 {
            margin-bottom: 0;
            font-size: 1.2rem;
        }

        /* تخصيص أزرار الكمية */
        .input-group {
            width: 150px;
            margin: 0 auto;
        }
    </style>
}